# Neo4j GraphRAG Environment Template
# Copy this file to .env and replace placeholders with real values.
# WARNING: Never commit the populated .env file or share secrets in logs.
# FancyRAGSettings (Pydantic typed settings) consumes these variables at runtime to
# hydrate OpenAI, Neo4j, and Qdrant configuration. See docs/brownfield-architecture.md
# for migration guidance and validation expectations.

# OpenAI configuration
OPENAI_API_KEY="YOUR_OPENAI_API_KEY"
OPENAI_EMBEDDING_MODEL="text-embedding-3-small"
OPENAI_MODEL="gpt-4.1-mini"  # baseline; fallback to gpt-4o-mini for throughput spikes
OPENAI_BASE_URL="https://your-openai-proxy.example.com/v1"  # optional HTTPS endpoint override
OPENAI_ALLOW_INSECURE_BASE_URL="false"  # set true ONLY for local HTTP testing when TLS unavailable
# Retry/backoff/fallback (defaults used if unset)
# Max attempts across initial try + retries
OPENAI_MAX_ATTEMPTS=YOUR_OPENAI_MAX_ATTEMPTS  # default 3 attempts total
# Base delay (seconds) for exponential backoff (jitter applied by client)
OPENAI_BACKOFF_SECONDS=YOUR_OPENAI_BACKOFF_SECONDS  # default 0.5s base delay
# Allow fallback model selection when primary throttles or errors
OPENAI_ENABLE_FALLBACK=YOUR_OPENAI_ENABLE_FALLBACK  # set to true to enable fallback model selection

# Neo4j configuration
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=local-neo4j
NEO4J_URI="bolt://localhost:7687"  # Docker Compose defaults; override for managed instances
# Optional advertised addresses for reverse proxies (compose sets defaults automatically)
NEO4J_BOLT_ADVERTISED_ADDRESS="localhost:7687"
NEO4J_HTTP_ADVERTISED_ADDRESS="localhost:7474"
# Local compose port bindings (host ports -> container ports)
# If these change, update NEO4J_URI and QDRANT_URL above to stay aligned.
NEO4J_HTTP_PORT=7474
NEO4J_BOLT_PORT=7687
QDRANT_GRPC_PORT=6334
QDRANT_HTTP_PORT=6333

# Qdrant configuration
QDRANT_URL="http://localhost:6333"
QDRANT_API_KEY=""  # optional for local compose stack

# Service automation presets and overrides
FANCYRAG_PRESET="smoke"  # smoke | full | enrich
DATASET_PATH="docs/samples/pilot.txt"  # override with absolute or repo-relative file path
# DATASET_DIR="docs"  # optional directory ingestion root (takes precedence when set)
FANCYRAG_PROFILE="text"  # default chunking profile applied by automation
FANCYRAG_TELEMETRY="console"  # console | otlp (see docs/brownfield-architecture.md)
FANCYRAG_ENABLE_SEMANTIC=false
FANCYRAG_ENABLE_EVALUATION=true
FANCYRAG_VECTOR_INDEX="chunks_vec"
FANCYRAG_QDRANT_COLLECTION="chunks_main"
