# Risk Profile: Story 1.1

Date: 2025-09-25
Reviewer: Quinn (Test Architect)

## Executive Summary
- Total Risks Identified: 4
- Critical Risks: 0
- High Risks: 0
- Risk Score: 92/100

Interpreter enforcement, deterministic locking, and secret-safe messaging are now covered by automated tests and script safeguards. Residual risks focus on keeping the bootstrap experience predictable across environments. Sources: docs/stories/1.1.workspace-bootstrap-script.md, docs/architecture/tech-stack.md, docs/architecture/source-tree.md, docs/architecture/coding-standards.md.

## Risk Distribution
### By Category
- Technical: 2 risks (High: 0)
- Operational: 1 risk (High: 0)
- Security: 1 risk (High: 0)

### By Component
- scripts/bootstrap: 3 risks
- Documentation/lockfile workflow: 1 risk

## Detailed Risk Register
| Risk ID  | Category    | Description                                                                                  | Probability | Impact | Score | Priority |
|----------|-------------|----------------------------------------------------------------------------------------------|-------------|--------|-------|----------|
| TECH-001 | Technical   | Python interpreter mismatch causing bootstrap to run under the wrong runtime.               | Low (1)     | Medium (2) | 2 | Low |
| TECH-002 | Technical   | Lockfile drift if operators skip committing regenerated `requirements.lock`.                | Low (1)     | Medium (2) | 2 | Low |
| OPS-001  | Operational | Partial installs leaving `.venv` unusable without cleanup guidance.                         | Low (1)     | Medium (2) | 2 | Low |
| SEC-001  | Security    | Operator guidance accidentally echoing secrets or tokens in the terminal.                   | Low (1)     | Medium (2) | 2 | Low |

### Mitigation Status
- **TECH-001:** Script enforces 3.12 with optional `--force` guard; integration test `test_bootstrap_rejects_incompatible_python` confirms non-zero exit and guidance. Residual risk: ensure future interpreter upgrades adjust check.
- **TECH-002:** Script now supports pip-tools when available and always writes `requirements.lock`; regression test verifies idempotent reruns. Residual risk: add CI job to fail on uncommitted lock diff.
- **OPS-001:** Run path includes skip/force options and durable logging; tests cover idempotent reruns and failure messaging. Residual risk: document cleanup in README (complete).
- **SEC-001:** Test coverage asserts that secrets such as `OPENAI_API_KEY` never appear in stdout/stderr. Residual risk: keep logging lint in place for future changes.

## Risk-Based Testing Strategy
- Integration tests executed for interpreter rejection, custom venv overrides, idempotent reruns, import validation success/failure, and secret masking.
- Future CI enhancement: nightly bootstrap smoke using real installs to detect upstream package regressions.

## Risk Acceptance Criteria
- No outstanding high/critical risks; low risks acceptable with monitoring.

## Monitoring Requirements
- Add CI guard that fails if `requirements.lock` differs post-bootstrap.
- Track bootstrap exit codes in operator telemetry to detect repeated failures.

## Gate Snippet
```yaml
risk_summary:
  totals:
    critical: 0
    high: 0
    medium: 0
    low: 4
  highest: null
  recommendations:
    must_fix: []
    monitor:
      - Add CI automation to regenerate requirements.lock and fail on diff.
```

## Hook Line
Risk profile: docs/qa/assessments/1.1-risk-20250925.md
