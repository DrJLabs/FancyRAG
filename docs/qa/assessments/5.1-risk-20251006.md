# Risk Assessment: Story 5.1 (Pipeline Orchestrator Decomposition)

Date: 2025-10-06
Assessor: Quinn (Test Architect)

## Risk Summary

| ID        | Type        | Description                                                                                                  | Likelihood | Impact | Score | Status           | Mitigation |
| --------- | ----------- | ------------------------------------------------------------------------------------------------------------ | ---------- | ------ | ----- | ---------------- | ---------- |
| TECH-101  | Technical   | Helper extraction reorders or drops phase calls, breaking ingest/enrichment/QA sequencing documented today.  | Medium (2) | High (3) | 6   | Mitigated        | Guarded by helper env-boundary test (`tests/unit/fancyrag/kg/test_phases.py::test_helpers_do_not_touch_environment`) plus orchestrator sequencing suites; latest minimal-path smoke run recorded in `artifacts/local_stack/test_log.json`. |
| DATA-041  | Data        | Helpers returning incomplete dataclasses allow partial graph writes or skip rollback semantics after errors. | Medium (2) | High (3) | 6   | Mitigated        | Helper unit suites assert rollback hooks and QA metadata; smoke test verifies QA counts post-run. |
| OPS-073   | Operational | Refactored call graph drifts from architecture documentation, confusing downstream service-hardening work.    | Low (1)    | Medium (2) | 2 | Mitigated        | Architecture shard lint (`tests/unit/docs/architecture/test_helper_references.py`) keeps documentation aligned. |
| PERF-028  | Performance | Additional abstraction introduces blocking I/O or redundant client instantiation, extending ingest latency.  | Low (1)    | Medium (2) | 2 | Mitigated        | Smoke test telemetry captured in `artifacts/local_stack/test_log.json`; helper suites ensure client reuse. |

Overall residual score: 20 (Low risk) after mitigation completion.

## Open Risks & Follow-ups

- None â€” monitor smoke telemetry during future releases.

## Mitigation Plan

1. Keep helper guard/unit suites in CI to prevent regressions on TECH-101/DATA-041.
2. Include the smoke run in scheduled regression cadence to watch PERF-028.
3. Maintain documentation lint for OPS-073 as helper surfaces evolve.

## Residual Risk Evaluation

- No open risks; continue observing telemetry in future sprints.
